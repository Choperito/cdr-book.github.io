<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Capítulo 45 Creación de aplicaciones web interactivas con Shiny | Fundamentos de ciencia de datos con R</title>
<meta name="author" content="Gema Fernández-Avilés y José-María Montero">
<meta name="description" content="Aurora González Vidal  45.1 Introducción Shiny es un paquete de R que permite crear aplicaciones web interactivas que cuentan con todos los elementos de R. Shiny se ha convertido en un referente...">
<meta name="generator" content="bookdown 0.28 with bs4_book()">
<meta property="og:title" content="Capítulo 45 Creación de aplicaciones web interactivas con Shiny | Fundamentos de ciencia de datos con R">
<meta property="og:type" content="book">
<meta property="og:image" content="/img/cover.png">
<meta property="og:description" content="Aurora González Vidal  45.1 Introducción Shiny es un paquete de R que permite crear aplicaciones web interactivas que cuentan con todos los elementos de R. Shiny se ha convertido en un referente...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Capítulo 45 Creación de aplicaciones web interactivas con Shiny | Fundamentos de ciencia de datos con R">
<meta name="twitter:description" content="Aurora González Vidal  45.1 Introducción Shiny es un paquete de R que permite crear aplicaciones web interactivas que cuentan con todos los elementos de R. Shiny se ha convertido en un referente...">
<meta name="twitter:image" content="/img/cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link href="libs/tabwid-1.1.0/tabwid.css" rel="stylesheet">
<link href="libs/tabwid-1.1.0/scrool.css" rel="stylesheet">
<script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
<link rel="stylesheet" href="bs4_book.css">
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Fundamentos de ciencia de datos con R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Buscar" aria-label="Buscar">
</form>

      <nav aria-label="Contenido"><h2>Contenido</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Prefacio</a></li>
<li class="book-part">Ciencia, datos, software… y científicos</li>
<li><a class="" href="ciencia-datos.html"><span class="header-section-number">1</span> ¿Es la ciencia de datos una ciencia?</a></li>
<li><a class="" href="metodologia.html"><span class="header-section-number">2</span> Metodología en ciencia de datos</a></li>
<li><a class="" href="ch-110003.html"><span class="header-section-number">3</span> R para ciencia de datos</a></li>
<li><a class="" href="cap-etica.html"><span class="header-section-number">4</span> Ética en la ciencia de datos</a></li>
<li class="book-part">Bienvenidos a la jungla de datos</li>
<li><a class="" href="datos-sql.html"><span class="header-section-number">5</span> Gestión de bases de datos relacionales</a></li>
<li><a class="" href="cap-nosql.html"><span class="header-section-number">6</span> Gestión de bases de datos NoSQL</a></li>
<li><a class="" href="DGDQM.html"><span class="header-section-number">7</span> Gobierno, gestión y calidad del dato</a></li>
<li><a class="" href="id_130009.html"><span class="header-section-number">8</span> Integración y limpieza de datos</a></li>
<li><a class="" href="chap-feature.html"><span class="header-section-number">9</span> Selección y transformación de variables</a></li>
<li><a class="" href="chap-herramientas.html"><span class="header-section-number">10</span> Herramientas para el análisis en ciencia de datos</a></li>
<li><a class="" href="id_120006-aed.html"><span class="header-section-number">11</span> Análisis exploratorio de datos</a></li>
<li class="book-part">Fundamentos de estadística</li>
<li><a class="" href="Funda-probab.html"><span class="header-section-number">12</span> Probabilidad</a></li>
<li><a class="" href="Fundainfer.html"><span class="header-section-number">13</span> Inferencia estadística</a></li>
<li><a class="" href="muestreo.html"><span class="header-section-number">14</span> Muestreo y remuestreo</a></li>
<li class="book-part">Modelización estadística</li>
<li><a class="" href="cap-lm.html"><span class="header-section-number">15</span> Modelización lineal</a></li>
<li><a class="" href="cap-glm.html"><span class="header-section-number">16</span> Modelos lineales generalizados</a></li>
<li><a class="" href="cap-gam.html"><span class="header-section-number">17</span> Modelos aditivos generalizados</a></li>
<li><a class="" href="cap-mxm.html"><span class="header-section-number">18</span> Modelos mixtos</a></li>
<li><a class="" href="cap-sparse.html"><span class="header-section-number">19</span> Modelos sparse y métodos penalizados de regresión</a></li>
<li><a class="" href="cap-series-temp.html"><span class="header-section-number">20</span> Modelización de series temporales</a></li>
<li><a class="" href="cap-discriminante.html"><span class="header-section-number">21</span> Análisis discriminante</a></li>
<li><a class="" href="cap-conjunto.html"><span class="header-section-number">22</span> Análisis conjunto</a></li>
<li><a class="" href="tablas-contingencia.html"><span class="header-section-number">23</span> Análisis de tablas de contingencia</a></li>
<li class="book-part">Machine learning supervisado</li>
<li><a class="" href="cap-arboles.html"><span class="header-section-number">24</span> Árboles de clasificación y regresión</a></li>
<li><a class="" href="cap-svm.html"><span class="header-section-number">25</span> Máquinas de vector soporte</a></li>
<li><a class="" href="cap-knn.html"><span class="header-section-number">26</span> Clasificador k-vecinos más próximos</a></li>
<li><a class="" href="cap-naive-bayes.html"><span class="header-section-number">27</span> Naive Bayes</a></li>
<li><a class="" href="cap-bagg-rf.html"><span class="header-section-number">28</span> Métodos ensamblados: bagging y random forest</a></li>
<li><a class="" href="cap-boosting-xgboost.html"><span class="header-section-number">29</span> Boosting y el algoritmo XGBoost</a></li>
<li class="book-part">Machine learning no supervisado</li>
<li><a class="" href="jerarquico.html"><span class="header-section-number">30</span> Análisis cluster: clusterización jerárquica</a></li>
<li><a class="" href="no-jerarquico.html"><span class="header-section-number">31</span> Análisis cluster: clusterización no jerárquica</a></li>
<li><a class="" href="acp.html"><span class="header-section-number">32</span> Análisis de componentes principales</a></li>
<li><a class="" href="an%C3%A1lisis-factorial.html"><span class="header-section-number">33</span> Análisis factorial</a></li>
<li><a class="" href="escalamiento-multidimensional.html"><span class="header-section-number">34</span> Escalamiento multidimensional</a></li>
<li><a class="" href="correspondencias.html"><span class="header-section-number">35</span> Análisis de correspondencias</a></li>
<li class="book-part">Deep learning</li>
<li><a class="" href="capNN.html"><span class="header-section-number">36</span> Redes neuronales artificiales</a></li>
<li><a class="" href="cap-redes-convol.html"><span class="header-section-number">37</span> Redes neuronales convolucionales</a></li>
<li class="book-part">Ciencia de datos de texto y redes</li>
<li><a class="" href="mineria-textos.html"><span class="header-section-number">38</span> Minería de textos</a></li>
<li><a class="" href="grafos.html"><span class="header-section-number">39</span> Análisis de grafos y redes sociales</a></li>
<li class="book-part">Ciencia de datos espaciales</li>
<li><a class="" href="datos-espaciales.html"><span class="header-section-number">40</span> Trabajando con datos espaciales</a></li>
<li><a class="" href="geo.html"><span class="header-section-number">41</span> Geoestadística</a></li>
<li><a class="" href="cap-econom-esp.html"><span class="header-section-number">42</span> Modelos econométricos espaciales</a></li>
<li><a class="" href="cap-pp.html"><span class="header-section-number">43</span> Procesos de puntos</a></li>
<li class="book-part">Comunica y colabora</li>
<li><a class="" href="id_120007-informes.html"><span class="header-section-number">44</span> Informes reproducibles con R Markdown y Quarto</a></li>
<li><a class="active" href="shiny.html"><span class="header-section-number">45</span> Creación de aplicaciones web interactivas con Shiny</a></li>
<li><a class="" href="github.html"><span class="header-section-number">46</span> Git y GitHub R</a></li>
<li><a class="" href="geoproces.html"><span class="header-section-number">47</span> Geoprocesamiento en nube</a></li>
<li class="book-part">Casos de estudio en ciencia de datos</li>
<li><a class="" href="cap-crimen.html"><span class="header-section-number">48</span> Análisis de una red criminal</a></li>
<li><a class="" href="cap-publicidad.html"><span class="header-section-number">49</span> Optimización de inversiones publicitarias</a></li>
<li><a class="" href="cap-twitter.html"><span class="header-section-number">50</span> ¿Cómo twitea Elon Musk?</a></li>
<li><a class="" href="cap-periodismo.html"><span class="header-section-number">51</span> Análisis electoral: de Rstudio a su periódico</a></li>
<li><a class="" href="paro-clm.html"><span class="header-section-number">52</span> Crisis: impacto en el paro de Castilla-La Mancha</a></li>
<li><a class="" href="cap-rfm.html"><span class="header-section-number">53</span> Segmentación de clientes en el comerico minorista</a></li>
<li><a class="" href="cap-medicina.html"><span class="header-section-number">54</span> Análisis de datos en medicina</a></li>
<li><a class="" href="cap-futbol.html"><span class="header-section-number">55</span> Messi y Ronaldo: dos ídolos desde la perspectiva de los datos</a></li>
<li><a class="" href="cambioclimatico.html"><span class="header-section-number">56</span> Un dato sobre el cambio climático</a></li>
<li><a class="" href="cap-ree.html"><span class="header-section-number">57</span> Predicción de consumo eléctrico con redes neuronales</a></li>
<li><a class="" href="cap-sist-exp.html"><span class="header-section-number">58</span> Implementación de un sistema experto en el ámbito pediátrico</a></li>
<li><a class="" href="nlp-textil.html"><span class="header-section-number">59</span> El procesamiento del lenguaje natural para tendencias de moda en textil</a></li>
<li><a class="" href="cap-fraude.html"><span class="header-section-number">60</span> Detección de fraude de tarjetas de crédito</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="info-session.html"><span class="header-section-number">A</span> Información de la sesión</a></li>
<li><a class="" href="referncias.html">Referncias</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="shiny" class="section level1" number="45">
<h1>
<span class="header-section-number">Capítulo 45</span> Creación de aplicaciones web interactivas con Shiny<a class="anchor" aria-label="anchor" href="#shiny"><i class="fas fa-link"></i></a>
</h1>
<p><em>Aurora González Vidal</em></p>
<div id="introducción-22" class="section level2" number="45.1">
<h2>
<span class="header-section-number">45.1</span> Introducción<a class="anchor" aria-label="anchor" href="#introducci%C3%B3n-22"><i class="fas fa-link"></i></a>
</h2>
<p><code>Shiny</code> es un paquete de <strong>R</strong> que permite crear aplicaciones web interactivas que cuentan con todos los elementos de <strong>R</strong>. <code>Shiny</code> se ha convertido en un referente ya que, para aquellos que tienen conocimiento de <strong>R</strong>, es muy sencillo crear una aplicación en cuestión de horas <span class="citation">(<a href="referncias.html#ref-changshiny">Winston et al. 2020</a>)</span>. Para crear una aplicación mínima, no se necesitan conocimientos de HTML (<em>HyperText Markup Language</em>), CSS (<em>Cascading Style Sheets</em>) o <em>JavaScript</em> y sus dependencias. Además, no es necesario pensar en elementos técnicos para hacerla accesible en la web como, por ejemplo, el puerto, ya que <code>Shiny</code> se encarga de esos detalles si no se cambian las opciones por defecto. Ésas son algunas de las razones principales por las cuales <code>Shiny</code> se ha vuelto tan popular a lo largo de los años, ya que se pueden crear pruebas de concepto de un producto, mostrar algoritmos o presentar resultados de investigación con claridad a través de interfaces de usuario accesibles, reproducibles y amigables <span class="citation">(<a href="referncias.html#ref-fay2021engineering">Fay et al. 2021</a>)</span>.</p>
<p>El primer paso para usar <code>Shiny</code> consiste en instalar el paquete que está disponible en CRAN:</p>
<div class="sourceCode" id="cb673"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"shiny"</span><span class="op">)</span></span></code></pre></div>
<p>Para asegurarse de que la versión instalada es igual o superior a la 1…5.0. hay que usar <code>packageVersion("shiny")</code>.
A continuación, se puede cargar el paquete y ver algunos ejemplos que se incluyen directamente en el mismo utilizando distintas opciones para el argumento <code>example</code>.</p>
<div class="sourceCode" id="cb674"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://shiny.rstudio.com/">"shiny"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/runExample.html">runExample</a></span><span class="op">(</span>example <span class="op">=</span> <span class="st">"01_hello"</span><span class="op">)</span></span>
<span><span class="co"># otras: 02_text, 03_reactivity, 04_mpg, 05_sliders, 06_tabsets, 07_widgets, 08_html, 09_upload, 10_download,  11_timer.</span></span></code></pre></div>
</div>
<div id="componentes-mínimos-de-una-aplicación-shiny-y-disposición-básica" class="section level2" number="45.2">
<h2>
<span class="header-section-number">45.2</span> Componentes mínimos de una aplicación <code>Shiny</code> y disposición básica<a class="anchor" aria-label="anchor" href="#componentes-m%C3%ADnimos-de-una-aplicaci%C3%B3n-shiny-y-disposici%C3%B3n-b%C3%A1sica"><i class="fas fa-link"></i></a>
</h2>
<p>Las aplicaciones <code>Shiny</code> tienen dos componentes:</p>
<ol style="list-style-type: decimal">
<li>Una interfaz de usuario <code>ui</code>, que es un script y</li>
<li>Un <code>server</code> que es un script de servidor o secuencia de comandos de servidor.</li>
</ol>
<p>Estos componentes pueden encontrarse en el mismo script o estar separadas en dos scripts con nombres fijos: <code>ui.R</code> y <code>server.R</code>. En este caso, se ha elegeido la segunda opción para ilustrar los ejemplos con mayor claridad.
Una aplicacion <code>Shiny</code> es un directorio que contiene estos scripts y otros ficheros adicionales (conjuntos de datos, fichero donde se definen funciones no dinámicas, etc.).</p>
<p>El código mínimo para crear una aplicación con un título, panel lateral y panel principal es el que sigue:</p>
<ul>
<li><code>ui.R</code></li>
</ul>
<div class="sourceCode" id="cb675"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyUI.html">shinyUI</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel</a></span><span class="op">(</span><span class="st">"TITULO"</span><span class="op">)</span>, <span class="co"># panel de encabezado TÍTULO</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarPanel</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># panel lateral</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># panel principal</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<ul>
<li><code>server.R</code></li>
</ul>
<div class="sourceCode" id="cb676"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyServer.html">shinyServer</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>La aplicación se puede lanzar de dos maneras diferentes. La primera mediante el comando <code><a href="https://rdrr.io/pkg/shiny/man/runApp.html">runApp()</a></code>, que tiene como argumento la ruta del directorio que almacena los ficheros que componen la aplicación.</p>
<div class="sourceCode" id="cb677"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/runApp.html">runApp</a></span><span class="op">(</span><span class="st">"ruta al directorio"</span><span class="op">)</span></span></code></pre></div>
<p>La segunda es lanzar la aplicación directamente desde Rstudio mediante el botón RunApp que aparece en cualquiera de los dos scripts <code>ui.R</code>, <code>server.R</code> reemplazando al <code>Run</code> habitual.</p>
<p>En este capítulo, además de ver los distintos componentes de <code>Shiny</code>, se construye una aplicación para la visualización de algunos gráficos presentados en el Cap. <a href="paro-clm.html#paro-clm">52</a>. Los datos relacionados se encuentran en el paquete CDR del libro.</p>
<p>Además del <code>ui.R</code> y el <code>sever.R</code>, puede ser muy útil tener un fichero donde recoger las funciones, paquetes y datos necesarios para el funcionamiento de la aplicación. Este fichero se puede cargar mediante la función <code>source</code> desde el <code>ui.R</code> o desde el <code>server.R</code>. Una recomendación es denominarlo <code>source.R</code> para mejor organización y legibilidad.</p>
</div>
<div id="diseño-de-una-aplicación-shiny" class="section level2" number="45.3">
<h2>
<span class="header-section-number">45.3</span> Diseño de una aplicación <code>Shiny</code><a class="anchor" aria-label="anchor" href="#dise%C3%B1o-de-una-aplicaci%C3%B3n-shiny"><i class="fas fa-link"></i></a>
</h2>
<p><code>Shiny</code> incluye una serie de opciones para el diseño o la disposición de los distintos componentes de una aplicación. En esta sección se ven dos muy componentes sencillos:</p>
<ul>
<li>
<code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarLayout()</a></code>: para colocar un <code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarPanel()</a></code>, es decir, un panel lateral de entradas junto a un <code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel()</a></code> de contenido de salida.</li>
<li>
<code><a href="https://rdrr.io/pkg/shiny/man/tabsetPanel.html">tabsetPanel()</a></code> y <code><a href="https://rdrr.io/pkg/shiny/man/navlistPanel.html">navlistPanel()</a></code> para la segmentación de diseños.</li>
</ul>
<p>Hasta ahora se ha utilizado el primero, sin introducirlo específicamente, para mostrar distintos ejemplos, por ser el más sencillo.</p>
<div id="dispag" class="section level3" number="45.3.1">
<h3>
<span class="header-section-number">45.3.1</span> Diseño de las páginas: <code>fluidPage()</code><a class="anchor" aria-label="anchor" href="#dispag"><i class="fas fa-link"></i></a>
</h3>
<p>Un diseño de página fluido <code><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage()</a></code> consiste en filas que a su vez incluyen columnas. Las filas tienen como propósito asegurar que sus elementos aparezcan en la misma línea (si el navegador tiene el ancho adecuado). El objetivo de las columnas es definir cuánto espacio horizontal, dentro de una cuadrícula de 12 unidades de ancho, deben ocupar sus elementos. Las páginas fluidas escalan sus componentes en tiempo real para llenar todo el ancho disponible del navegador.</p>
<p>Una <code><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage()</a></code> tiene 2 argumentos: <code><a href="https://rdrr.io/pkg/shiny/man/headerPanel.html">headerPanel()</a></code> con el título de la aplicación,
y <code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarLayout()</a></code>, que es un punto de partida útil para la mayoría de las aplicaciones. Éste a su vez tiene 2 argumentos más: <code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarPanel()</a></code>, que es una barra lateral para las entradas y <code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel()</a></code>, un gran área principal para la salida.</p>
<div class="sourceCode" id="cb678"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyUI.html">shinyUI</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/headerPanel.html">headerPanel</a></span><span class="op">(</span><span class="st">"Evolución del paro"</span><span class="op">)</span>, <span class="co"># panel de encabezado</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarLayout</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarPanel</a></span><span class="op">(</span> <span class="co"># panel lateral</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html">radioButtons</a></span><span class="op">(</span></span>
<span>        <span class="st">"vble"</span>, <span class="st">"Variable"</span>, <span class="co"># botones circulares: nombre y etiqueta</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>          <span class="st">"sexo"</span> <span class="op">=</span> <span class="st">"sexo"</span>,</span>
<span>          <span class="st">"tramo_edad"</span> <span class="op">=</span> <span class="st">"tramo_edad"</span>,</span>
<span>          <span class="st">"tiempo_búsqueda_empleo_agregado"</span> <span class="op">=</span> <span class="st">"tiempo_búsqueda_empleo_agregado"</span>,</span>
<span>          <span class="st">"sector"</span> <span class="op">=</span> <span class="st">"sector"</span>,</span>
<span>          <span class="st">"tiempo_búsqueda_empleo"</span> <span class="op">=</span> <span class="st">"tiempo_búsqueda_empleo"</span></span>
<span>        <span class="op">)</span>, <span class="st">"sexo"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span><span class="st">"gra1"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:izda"></span>
<img src="img/evparo1.png" alt="Aplicación shiny con sidebarPanel posicionado por defecto a la izquierda" width="80%"><p class="caption">
Figura 45.1: Aplicación shiny con sidebarPanel posicionado por defecto a la izquierda
</p>
</div>
<p>La barra lateral puede posicionarse a la izquierda (por defecto) o a la derecha del área principal. Por ejemplo, para posicionar la barra lateral a la derecha se debe utilizar <code>position = 'right'</code> como se aprecia en la Fig. <span class="math inline">\(\ref{fig:dcha}\)</span>, donde el resto de argumentos son igual que para generar la Fig.<span class="math inline">\(\ref{fig:izda}\)</span> .</p>
<div class="sourceCode" id="cb679"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyUI.html">shinyUI</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/headerPanel.html">headerPanel</a></span><span class="op">(</span><span class="st">"Evolución del paro"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarLayout</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"right"</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:dcha"></span>
<img src="img/evparo2.png" alt="Aplicación shiny con sidebarPanel a la derecha" width="80%"><p class="caption">
Figura 45.2: Aplicación shiny con sidebarPanel a la derecha
</p>
</div>
<p>Las funciones <code><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html">radioButtons()</a></code> y <code><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput()</a></code> se introducirán en detalle en las respectivas secciones de este capítulo.</p>
</div>
<div id="segmentación-de-diseños-tabsetpanel-y-navlistpanel" class="section level3" number="45.3.2">
<h3>
<span class="header-section-number">45.3.2</span> Segmentación de diseños: <code>tabsetPanel()</code> y <code>navlistPanel()</code><a class="anchor" aria-label="anchor" href="#segmentaci%C3%B3n-de-dise%C3%B1os-tabsetpanel-y-navlistpanel"><i class="fas fa-link"></i></a>
</h3>
<p>Para subdividir el panel principal en varias secciones discretas, es decir, crear pestañas, se puede usar <code><a href="https://rdrr.io/pkg/shiny/man/tabsetPanel.html">tabsetPanel()</a></code> y <code><a href="https://rdrr.io/pkg/shiny/man/tabPanel.html">tabPanel()</a></code> como sigue:</p>
<div class="sourceCode" id="cb680"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/tabsetPanel.html">tabsetPanel</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/tabPanel.html">tabPanel</a></span><span class="op">(</span></span>
<span>      <span class="st">"Elección con botones circulares"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html">radioButtons</a></span><span class="op">(</span></span>
<span>        <span class="st">"vble"</span>, <span class="st">"Variable"</span>, <span class="co"># botones circulares: nombre y etiqueta</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>          <span class="st">"sexo"</span> <span class="op">=</span> <span class="st">"sexo"</span>,</span>
<span>          <span class="st">"tramo_edad"</span> <span class="op">=</span> <span class="st">"tramo_edad"</span>,</span>
<span>          <span class="st">"tiempo_búsqueda_empleo_agregado"</span> <span class="op">=</span> <span class="st">"tiempo_búsqueda_empleo_agregado"</span>,</span>
<span>          <span class="st">"sector"</span> <span class="op">=</span> <span class="st">"sector"</span>,</span>
<span>          <span class="st">"tiempo_búsqueda_empleo"</span> <span class="op">=</span> <span class="st">"tiempo_búsqueda_empleo"</span></span>
<span>        <span class="op">)</span>, <span class="st">"sexo"</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span><span class="st">"gra1"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/tabPanel.html">tabPanel</a></span><span class="op">(</span><span class="st">"Tramo edad fijo"</span>, <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span><span class="st">"gra2"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/tabPanel.html">tabPanel</a></span><span class="op">(</span><span class="st">"Tiempo búsqueda empleo fijo"</span>, <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span><span class="st">"gra3"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:tabs"></span>
<img src="img/evo15.png" alt="Aplicación shiny con varias ventanas" width="80%"><p class="caption">
Figura 45.3: Aplicación shiny con varias ventanas
</p>
</div>
<p>En el ejemplo de la Fig. <span class="math inline">\(\ref{fig:tabs}\)</span>, se aprecia uqe hay 3 ventanas y se muestra la tercera que es la evolución del paro considerando el tiempo de búsqueda de empleo y que no es una gráfica reactiva sino estática.</p>
<p><code><a href="https://rdrr.io/pkg/shiny/man/navlistPanel.html">navlistPanel()</a></code> es una alternativa a <code><a href="https://rdrr.io/pkg/shiny/man/tabsetPanel.html">tabsetPanel()</a></code> cuando existan muchas separaciones. Un <code>navlist</code> presenta los distintos componentes como una lista de la barra lateral en lugar de utilizar pestañas y no se hace en el mainPanel.</p>
<div class="sourceCode" id="cb681"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel</a></span><span class="op">(</span><span class="st">"Application Title"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/navlistPanel.html">navlistPanel</a></span><span class="op">(</span></span>
<span>    <span class="st">"Header A"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/tabPanel.html">tabPanel</a></span><span class="op">(</span><span class="st">"Component 1"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/tabPanel.html">tabPanel</a></span><span class="op">(</span><span class="st">"Component 2"</span><span class="op">)</span>,</span>
<span>    <span class="st">"Header B"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/tabPanel.html">tabPanel</a></span><span class="op">(</span><span class="st">"Component 3"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div id="elementos-para-la-introducción-de-datos" class="section level2" number="45.4">
<h2>
<span class="header-section-number">45.4</span> Elementos para la introducción de datos<a class="anchor" aria-label="anchor" href="#elementos-para-la-introducci%C3%B3n-de-datos"><i class="fas fa-link"></i></a>
</h2>
<p>Para que el usuario de la aplicación <code>Shiny</code> introduzca datos manualmente, hay diversos elementos que se enumeran a continuación:</p>
<ul>
<li>
<strong>Control deslizante</strong>: un control deslizante permite que el usuario seleccione entre un intervalo de valores moviendo un control de posición por una pista. En <code>Shiny</code> se crea con la función <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput()</a></code> que tiene, entre otros, los siguientes argumentos:
<ul>
<li>
<code>inputId</code>: la entrada que se utiliza para acceder al valor</li>
<li>
<code>label</code>: etiqueta o nombre que aparece en la interfaz</li>
<li>
<code>min</code>: el mínimo del control deslizante</li>
<li>
<code>max</code>: el máximo del control deslizante</li>
<li>
<code>value</code>: el valor inicial</li>
<li>
<code>step</code>: el intervalo entre cada valor seleccionable. NULL significa que va de uno en uno</li>
<li>
<code>animate</code>: booleano que indica si los valores se cambian automáticamente para animar la aplicación</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb682"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput</a></span><span class="op">(</span><span class="va">inputId</span>, <span class="va">label</span>, <span class="va">min</span>, <span class="va">max</span>, <span class="va">value</span>, step <span class="op">=</span> <span class="cn">NULL</span>, animate <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Sus características incluyen:</p>
<ul>
<li><p>La posibilidad de introducir un único valor y rangos</p></li>
<li><p>Formatos personalizados (por ejemplo, para entradas relativas al dinero)</p></li>
<li><p>Pueden ser animados y recorrer los valores de forma automática (argumento <code>animate</code>)</p></li>
</ul>
<p>Algunos ejemplos son:</p>
<div class="sourceCode" id="cb683"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput</a></span><span class="op">(</span><span class="st">"enteros"</span>, <span class="st">"Enteros:"</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">1000</span>, value <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput</a></span><span class="op">(</span><span class="st">"decimales"</span>, <span class="st">"Decimales:"</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">1</span>, value <span class="op">=</span> <span class="fl">0.5</span>, step <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput</a></span><span class="op">(</span><span class="st">"rango"</span>, <span class="st">"Rango:"</span>, min <span class="op">=</span> <span class="fl">1</span>, max <span class="op">=</span> <span class="fl">1000</span>, value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">500</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput</a></span><span class="op">(</span><span class="st">"animacion"</span>, <span class="st">"Animacion:"</span>, <span class="fl">10</span>, <span class="fl">200</span>, <span class="fl">10</span>, step <span class="op">=</span> <span class="fl">10</span>, animate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">animationOptions</a></span><span class="op">(</span>loop <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>
<strong>Botón circular</strong>: un botón circular es un tipo de selector que proporciona una lista de opciones entre las cuales solo se puede seleccionar una. En <code>Shiny</code> se crean con la función <code>radioButtons</code> que tiene, entre otros, los siguientes argumentos autoexplicativos:</li>
</ul>
<div class="sourceCode" id="cb684"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html">radioButtons</a></span><span class="op">(</span><span class="va">inputId</span>, <span class="va">label</span>, <span class="va">choices</span>, selected <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<p>Un ejemplo donde la variable “sexo” está elegida por defecto se puede ver en el primer trozo de código de la subsección <a href="shiny.html#dispag">45.3.1</a> <code><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarLayout()</a></code>.</p>
<ul>
<li>
<strong>Selección múltiple</strong>: un cuadro de selección múltiple es un tipo de selector que proporciona una lista de opciones entre las cuales se pueden seleccionar varias. En <code>Shiny</code> se crean con la función <code>selectInput</code> que tiene, entre otros, los siguientes argumentos autoexplicativos:</li>
</ul>
<div class="sourceCode" id="cb685"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput</a></span><span class="op">(</span><span class="va">inputId</span>, <span class="va">label</span>, <span class="va">choices</span>, multiple <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb686"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput</a></span><span class="op">(</span><span class="st">"año"</span>, <span class="st">"Año:"</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"año1"</span> <span class="op">=</span> <span class="st">"2007"</span>,</span>
<span>    <span class="st">"año2"</span> <span class="op">=</span> <span class="st">"2013"</span>,</span>
<span>    <span class="st">"año3"</span> <span class="op">=</span> <span class="st">"2019"</span>,</span>
<span>    <span class="st">"año4"</span> <span class="op">=</span> <span class="st">"2022"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  multiple <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<ul>
<li><strong>checkboxGroupInput</strong></li>
</ul>
<p>Muy similar al anterior, este componente crea un grupo de casillas que se pueden utilizars para alternar varias opciones de forma independiente.</p>
<div class="sourceCode" id="cb687"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/checkboxGroupInput.html">checkboxGroupInput</a></span><span class="op">(</span><span class="va">inputId</span>, <span class="va">label</span>, <span class="va">choices</span>, multiple <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb688"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/checkboxGroupInput.html">checkboxGroupInput</a></span><span class="op">(</span></span>
<span>  <span class="st">"variable"</span>, <span class="st">"Variables to show:"</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"año1"</span> <span class="op">=</span> <span class="st">"2007"</span>,</span>
<span>    <span class="st">"año2"</span> <span class="op">=</span> <span class="st">"2013"</span>,</span>
<span>    <span class="st">"año3"</span> <span class="op">=</span> <span class="st">"2019"</span>,</span>
<span>    <span class="st">"año4"</span> <span class="op">=</span> <span class="st">"2022"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<ul>
<li><strong>Entrada numérica</strong></li>
</ul>
<div class="sourceCode" id="cb689"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/numericInput.html">numericInput</a></span><span class="op">(</span><span class="st">"obs"</span>, <span class="st">"Numero de observaciones:"</span>, <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<ul>
<li><strong>Entrada de texto</strong></li>
</ul>
<div class="sourceCode" id="cb690"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/helpText.html">helpText</a></span><span class="op">(</span><span class="st">"aclaraciones"</span><span class="op">)</span></span></code></pre></div>
<p>Otras opciones de entrada que se invita al lector a analizar se relacionan con las fechas: <code><a href="https://rdrr.io/pkg/shiny/man/dateInput.html">dateInput()</a></code>, <code><a href="https://rdrr.io/pkg/shiny/man/dateRangeInput.html">dateRangeInput()</a></code> y con un área de texto: <code><a href="https://rdrr.io/pkg/shiny/man/textAreaInput.html">textAreaInput()</a></code>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-19"></span>
<img src="img/entradas3.png" alt="Distintos elementos para la introducción de datos" width="80%"><p class="caption">
Figura 45.4: Distintos elementos para la introducción de datos
</p>
</div>
<ul>
<li><strong>Lectura de ficheros de datos</strong></li>
</ul>
<p>También es posible introducir información a través de la lectura de ficheros de datos, con la función <code><a href="https://rdrr.io/pkg/shiny/man/fileInput.html">fileInput()</a></code>. Se pueden combinar valores por defecto de la función utilizada para la lectura de datos con algunos de los elementos anteriores para definir las características del dataset (seaprador, decimal, cabecera). En el siguiente ejemplo se utiliza la función <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code>, y se da a elegir si tiene cabecera o no con el <code><a href="https://rdrr.io/pkg/shiny/man/checkboxInput.html">checkboxInput()</a></code>, así como el tipo de decimal con el <code>radioButtons</code>. Otra particularidad del ejemplo es que se asume que los datos están separados por punto y coma, tal y como se aprecia en el argumento <code>sep</code> del <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code>.</p>
<div class="sourceCode" id="cb691"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyUI.html">shinyUI</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/headerPanel.html">headerPanel</a></span><span class="op">(</span><span class="st">"Lectura de datos"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarPanel</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html">h4</a></span><span class="op">(</span><span class="st">"Cargar fichero CSV"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fileInput.html">fileInput</a></span><span class="op">(</span><span class="st">"file1"</span>, <span class="st">""</span>,</span>
<span>      accept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"text/csv"</span>, <span class="st">"text/comma-separated-values,text/plain"</span>, <span class="st">".csv"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/checkboxInput.html">checkboxInput</a></span><span class="op">(</span><span class="st">"header"</span>, <span class="st">"Header (el csv tiene nombres de variables)"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html">radioButtons</a></span><span class="op">(</span></span>
<span>      <span class="st">"dec"</span>, <span class="st">"Separador de decimales:"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>        <span class="st">"Punto"</span> <span class="op">=</span> <span class="st">","</span>,</span>
<span>        <span class="st">"Coma"</span> <span class="op">=</span> <span class="st">"."</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/tabsetPanel.html">tabsetPanel</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/tabPanel.html">tabPanel</a></span><span class="op">(</span></span>
<span>        <span class="st">"CSV"</span>,</span>
<span>        <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html">h4</a></span><span class="op">(</span><span class="st">"Vista del fichero CSV"</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderTable.html">tableOutput</a></span><span class="op">(</span><span class="st">"contents"</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyServer.html">shinyServer</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">contents</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderTable.html">renderTable</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">inFile</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">file1</span></span>
<span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">inFile</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="va">inFile</span><span class="op">$</span><span class="va">datapath</span>, header <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">header</span>, dec <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">dec</span>, sep <span class="op">=</span> <span class="st">";"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:foo"></span>
<img src="img/lecturadatos.png" alt="Lectura de datos" width="80%"><p class="caption">
Figura 45.5: Lectura de datos
</p>
</div>
</div>
<div id="elementos-para-visualización-salida" class="section level2" number="45.5">
<h2>
<span class="header-section-number">45.5</span> Elementos para visualización (salida)<a class="anchor" aria-label="anchor" href="#elementos-para-visualizaci%C3%B3n-salida"><i class="fas fa-link"></i></a>
</h2>
<p>Tras la introducción de ciertos parámetros en el <code>ui.R</code>, éstos se pueden utilizar en el script <code>server.R</code> mediante la expresión <code>input</code>. El código de <strong>R</strong> que construye el objeto basado en esos datos se desarrolla en el servidor, y para generar dicho objeto se utilizan las funciones <code>renderX</code>, donde X es el tipo de objeto a devolver. Por úlitmo, este objeto se referencia nuevamente en el <code>ui.R</code> en el lugar que se desea mostrar (panel) a través de la expresión <code>XOutput</code>.</p>
<p>El hecho de colocar una función en <code>ui</code> le dice a <code>Shiny</code> dónde mostrar su objeto. A continuación, hay que decirle a <code>Shiny</code> cómo construir el objeto.
Esto se hace proporcionando el código <strong>R</strong> que construye el objeto en la función del servidor.</p>
<p>En concreto, algunas posibilidades se pueden ver en la Tabla <a href="#tab:mytable"><strong>??</strong></a>.</p>
<div class="inline-table"><table class="table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
Server
</th>
<th style="text-align:left;">
Ui
</th>
<th style="text-align:left;">
Crea
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
renderImage
</td>
<td style="text-align:left;">
imageOutput
</td>
<td style="text-align:left;">
Imagen
</td>
</tr>
<tr>
<td style="text-align:left;">
renderPlot
</td>
<td style="text-align:left;">
plotOutput
</td>
<td style="text-align:left;">
Gráfico
</td>
</tr>
<tr>
<td style="text-align:left;">
renderTable
</td>
<td style="text-align:left;">
tableOutput
</td>
<td style="text-align:left;">
Tabla
</td>
</tr>
<tr>
<td style="text-align:left;">
renderText
</td>
<td style="text-align:left;">
textOutput
</td>
<td style="text-align:left;">
Texto
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
htmlOutput
</td>
<td style="text-align:left;">
HTML
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
verbatimTextOutput
</td>
<td style="text-align:left;">
Texto verbatim
</td>
</tr>
</tbody>
</table></div>
<ul>
<li>
<strong>Gráficos</strong>: para generar la aplicación de la Fig. <a href="#fig:foo1"><strong>??</strong></a>, se utiliza <code>renderPlot</code> en el server.R como sigue:</li>
</ul>
<div class="sourceCode" id="cb692"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="st">"source.R"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyServer.html">shinyServer</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">gra1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">graf_evol</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">vble</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>Se ha llamado <code>gra1</code> a la variable que es el gráfico y que se crea con <code><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot()</a></code>. En el interior se utiliza una función denominada <code>graf_evol()</code> que es compleja y se crea en el<code>source.R</code> que se carga al principio. Lo que interesa de esta función es que tiene como único argumento el nombre de la variable de interés cuya evolución se desea mostrar. Ésta puede ser una de las diversas opciones que se dan a través del <code>radioButton</code> denominado <code>vble</code> que ha sido creado anteriormente y que, como vemos, se utiliza <code>input$vble</code> para invocar a la selección realizada en la interfaz de usuario.</p>
<ul>
<li>
<strong>Tablas</strong>: para mostrar la tabla de la Fig. <a href="shiny.html#fig:foo">45.5</a> se utiliza <code><a href="https://rdrr.io/pkg/shiny/man/renderTable.html">renderTable()</a></code> en el server y <code><a href="https://rdrr.io/pkg/shiny/man/renderTable.html">tableOutput()</a></code> en el <code>ui</code>.</li>
</ul>
<div class="sourceCode" id="cb693"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyServer.html">shinyServer</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">contents</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderTable.html">renderTable</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">inFile</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">file1</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">inFile</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="va">inFile</span><span class="op">$</span><span class="va">datapath</span>, header <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">header</span>, dec <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">dec</span>, sep <span class="op">=</span> <span class="st">";"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="reactividad" class="section level2" number="45.6">
<h2>
<span class="header-section-number">45.6</span> Reactividad<a class="anchor" aria-label="anchor" href="#reactividad"><i class="fas fa-link"></i></a>
</h2>
<p>La programación reactiva es un paradigma de programación que se encarga de los flujos de datos y la propagación de los cambios. Ésto significa que cuando un flujo de datos es emitido por un componente, el cambio se propagará a otros componentes.</p>
<p>El modelo de reactividad que utiliza <code>Shiny</code> es el siguiente: hay una fuente reactiva, un conductor reactivo y un punto final de la reactividad <span class="citation">(<a href="referncias.html#ref-wickham2021mastering">Hadley Wickham 2021</a>)</span>.
La fuente reactiva suele ser lo que el usuario introduce y el punto de parada lo que se muestra por pantalla. A lo que el usuario introduce se accede con el objeto input y a lo que se muestra por pantalla con el objeto output.
Un ejemplo que ya se ha usado es el siguiente:</p>
<div class="sourceCode" id="cb694"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">gra1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="fu">graf_evol</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">vble</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>El objeto <code>output$gra1</code> es un punto final de la reactividad, y usa la fuente reactiva <code>input$vble</code>. Cuando <code>input$vbles</code> cambia, a <code>output$gra1</code> se le notifica que necesita ejecutarse de nuevo.</p>
<div id="conductores-reactivos-y-control-de-la-reactividad" class="section level3" number="45.6.1">
<h3>
<span class="header-section-number">45.6.1</span> Conductores reactivos y control de la reactividad<a class="anchor" aria-label="anchor" href="#conductores-reactivos-y-control-de-la-reactividad"><i class="fas fa-link"></i></a>
</h3>
<p>También es posible crear componentes reactivos que conecten los inputs y los outputs. En el siguiente ejemplo se ha creado un objeto reactivo <code>datos</code> que genera datos que siguen una distribución que el usuario selecciona a través del radioButton <code>dist</code> y cuya muestra tiene tantos elementos como el usuario haya especificado en el numericInput <code>obs</code>.</p>
<p><code>Shiny</code>, además, permite controlar la reactividad a través de los actionButtons. Se pueden modificar las entradas sin obtener una respuesta hasta que se apriete dicho botón.</p>
<p>Se ha creado un panel nuevo dentro del mainPanel y éste contiene, además del <code>plot</code> previo, un <code>actionButton</code> con la etiqueta <code>Presiona</code>.</p>
<div class="sourceCode" id="cb695"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyUI.html">shinyUI</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/headerPanel.html">headerPanel</a></span><span class="op">(</span><span class="st">"Controlar reactividad"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">sidebarPanel</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html">radioButtons</a></span><span class="op">(</span><span class="st">"dist"</span>, <span class="st">"Tipo de distribucion:"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>        <span class="st">"Normal"</span> <span class="op">=</span> <span class="st">"norm"</span>,</span>
<span>        <span class="st">"Uniforme"</span> <span class="op">=</span> <span class="st">"unif"</span>,</span>
<span>        <span class="st">"Log-normal"</span> <span class="op">=</span> <span class="st">"lnorm"</span>,</span>
<span>        <span class="st">"Exponencial"</span> <span class="op">=</span> <span class="st">"exp"</span></span>
<span>      <span class="op">)</span>,</span>
<span>      selected <span class="op">=</span> <span class="st">"Exponencial"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/numericInput.html">numericInput</a></span><span class="op">(</span><span class="st">"obs"</span>, <span class="st">"Numero de observaciones:"</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sidebarLayout.html">mainPanel</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/tabPanel.html">tabPanel</a></span><span class="op">(</span></span>
<span>      <span class="st">"Histograma distribucion RadioButton"</span>,</span>
<span>      <span class="st">"Plot"</span>, <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span><span class="st">"plot"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html">actionButton</a></span><span class="op">(</span><span class="st">"botonReac"</span>, <span class="st">"Presiona"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>A continuación, se hace referencia a ese botón para cada una de las expresiones reactivas que se aislarán con la función <code><a href="https://rdrr.io/pkg/shiny/man/isolate.html">isolate()</a></code>:</p>
<div class="sourceCode" id="cb696"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyServer.html">shinyServer</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">datos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html">reactive</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">botonReac</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/dist.html">dist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Exponential.html">rexp</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">obs</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/isolate.html">isolate</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="va">dist</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/switch.html">switch</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">dist</span>,</span>
<span>        norm <span class="op">=</span> <span class="va">rnorm</span>,</span>
<span>        unif <span class="op">=</span> <span class="va">runif</span>,</span>
<span>        lnorm <span class="op">=</span> <span class="va">rlnorm</span>,</span>
<span>        exp <span class="op">=</span> <span class="va">rexp</span>,</span>
<span>        <span class="va">rnorm</span></span>
<span>      <span class="op">)</span></span>
<span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/stats/dist.html">dist</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">obs</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">botonReac</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/isolate.html">isolate</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/terra/man/hist.html">hist</a></span><span class="op">(</span><span class="fu">datos</span><span class="op">(</span><span class="op">)</span>,</span>
<span>        main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"r"</span>, <span class="va">input</span><span class="op">$</span><span class="va">dist</span>, <span class="st">"("</span>, <span class="va">input</span><span class="op">$</span><span class="va">obs</span>, <span class="st">")"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div id="publicación-de-la-aplicación-en-la-web" class="section level2" number="45.7">
<h2>
<span class="header-section-number">45.7</span> Publicación de la aplicación en la web<a class="anchor" aria-label="anchor" href="#publicaci%C3%B3n-de-la-aplicaci%C3%B3n-en-la-web"><i class="fas fa-link"></i></a>
</h2>
<p>Después del desarrollo de una aplicación <code>Shiny</code>, suele ser interesante publicarla para su explotación científica o empresarial. Rstudio ofrece diversas soluciones que se analizarán, con distintos niveles de complejidad y libertad, para poder publicar la aplicación web: (i) shinyapps.io, (ii) Shiny Server y (iii) RStudio Connect.</p>
<p>A continuación se introduce, muy brevemente, cada uno de ellos, y se proporcionan los enlaces para que el lector pueda indagar en profundidad.</p>
<ul>
<li>Shinyapps.io</li>
</ul>
<p>Rstudio ofrece un servicio de hospedage denominado Shinyapps.io que permite subir la aplicación directamente desde la sesión de <strong>R</strong> a un servidor que se mantiene por Rstudio. Hay un control casi completo sobre la aplicación, incluyendo la administración del servidor. Tiene distintos planes, desde gratuito hasta profesional, siendo el primero más restringido en cuanto a servicios (número de aplicaciones, horas activo…) y el último más completo (autenticación, personalización, etc).</p>
<p>Lo único que se necesita es:</p>
<ul>
<li><p>Un entorno de desarrollo de <strong>R</strong>, como RStudio IDE.</p></li>
<li><p>La última versión del paquete <code>rsconnect</code>.</p></li>
</ul>
<p>En la web <a href="shinyapps.io">shinyapps.io</a> en esl apartado “Dashboard” se realiza el registro. Shinyapps.io genera de forma automática un token que el paquete <code>rsconnect</code> utiliza para acceder a la cuenta.</p>
<div class="sourceCode" id="cb697"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rsconnect</span><span class="fu">::</span><span class="fu">setAccountInfo</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"&lt;ACCOUNT&gt;"</span>, token <span class="op">=</span> <span class="st">"&lt;TOKEN&gt;"</span>, secret <span class="op">=</span> <span class="st">"&lt;SECRET&gt;"</span><span class="op">)</span></span></code></pre></div>
<p>Para desplegar la aplicación se utiliza <code>deployApp()</code> como sigue:</p>
<div class="sourceCode" id="cb698"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/rsconnect">rsconnect</a></span><span class="op">)</span></span>
<span><span class="fu">deployApp</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Existen opciones gratuitas, que carecen de ciertas ventajas, como la posibilidad de restringir el acceso a la aplicación shiny, es decir, la aplicación no será privada con el plan gratuito aunque sí existen las opciones de autentificación con otros planes. Para más información sobre este método, consúltese la página <a href="https://shiny.rstudio.com/articles/shinyapps.html">https://shiny.rstudio.com/articles/shinyapps.html</a>.</p>
<ul>
<li>
<code>Shiny</code> Server</li>
</ul>
<p><code>Shiny</code> server construye un servidor web diseñado para hospedar aplicaciones <code>Shiny</code>. Es gratuito, de código abierto y está disponible en GitHub.</p>
<p>Para usar el <code>Shiny</code> Server, es necesario tener un servidor Linux que tenga soporte explícito para Ubuntu 12.04 or superior (64 bit) y CentOS/RHEL 5 (64 bit). Aunque no se esté utilizando una distribución con soporte explícito, también se puede utilizar, si bien construyéndolo desde el paquete fuente.</p>
<p>En el mismo <code>Shiny</code> Server se pueden hospedar múltiples aplicaciones <code>Shiny</code>. Para ver instrucciones detalladas para su instalación y configuración, se recomienda la guía <code>Shiny</code> Server <a href="https://docs.rstudio.com/shiny-server">https://docs.rstudio.com/shiny-server</a>.</p>
<p>La seguridad y privacidad quedarán supeditadas a los conocimientos del usuario, ya que dependerán de su propio servidor.</p>
<ul>
<li>RStudio Connect</li>
</ul>
<p>Cuando <code>Shiny</code> se utiliza en entornos con fines lucrativos, existen herramientas de servidor que se pueden comprar y que vienen equipadas con los programas habituales de un servidor de pago:</p>
<ul>
<li>Soporte SSL</li>
<li>Herramientas de administrador</li>
<li>Soporte prioritario</li>
<li>Privilegios de usuario</li>
<li>Opción con Docker</li>
</ul>
<p>Para tener dichas herramientas de servidor, la plataforma de publicación RStudio Connect puede ser una solución. Esta herramienta permite compartir aplicacciones <code>Shiny</code>, informes RMarkdown, cuadros de mando, gráficos, Jupyter Notebooks y más.
Con RStudio Connect se puede programar la ejecución de informes y políticas de seguridad flexibles.</p>
<p>Además, RStudio Connect permite seleccionar privilegios de usuario en aplicaciones Shiny. La aplicación Shiny puede reconocer a un usuario basándose en la información de inicio de sesión y ofrecerle contenido personalizado, de manera que se puede controlar quién ve qué contenido y cuándo lo ve.</p>
</div>
<div id="extensiones-de-shiny" class="section level2" number="45.8">
<h2>
<span class="header-section-number">45.8</span> Extensiones de <code>Shiny</code><a class="anchor" aria-label="anchor" href="#extensiones-de-shiny"><i class="fas fa-link"></i></a>
</h2>
<p><code>Shiny</code> es una herramienta totalmente expansible. Lo que se ha mostrado en este capítulo hasta ahora es un aperitivo en relación a todas las posibilidades que existen en el mundo de <code>Shiny</code>. Hay repositorios que recopilan información sobre paquetes que proveen de mejoras a las aplicaciones <code>Shiny</code> en su estilo y funcionalidad <span class="citation">Gilmore et al. (<a href="referncias.html#ref-awesome2">2017</a>)</span>. En esta sección se mencionan algunos de ellos pero, sobre todo, se recomienda al lector visitar dichos repositorios para una mayor profundidad en este tema.</p>
<ul>
<li>
<code>shinydashboard</code>, <code>shinydashboardPlus</code> y <code>flexdashboards</code>
</li>
</ul>
<p>En temas de estilo, merece la pena destacar estos tres paquetes. Los dos primeros presentan una serie de plantillas predefinidas para la creación de las aplicaciones <code>Shiny</code>, de manera que los colores combinan y los elementos visuales tienen cierta armonía.</p>
<p>Por su parte, <code>flexdashboards</code> tiene como base un documento <em>R Markdown</em> y los distintos niveles del mismo definen los paneles de la aplicación a crear.</p>
<ul>
<li><code>shinyWidgets</code></li>
</ul>
<p>Este paquete ofrece <em>widgets</em><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Para el caso de estudio que se desarrolla se ha usado la librería &lt;code&gt;rtweet&lt;/code&gt; para acceder a la &lt;strong&gt;API Standard (V1.1)&lt;/strong&gt; (accesible a todo el mundo). Para obtener las credenciales que permiten trabajar en &lt;strong&gt;modo usuario&lt;/strong&gt; se facilita el script de &lt;strong&gt;python make_token_Twitter.ipynb&lt;/strong&gt; en github &lt;a href="https://github.com/congosto/token_API_V1.1**" class="uri"&gt;https://github.com/congosto/token_API_V1.1**&lt;/a&gt;. Este &lt;em&gt;script&lt;/em&gt; se puede ejecutar en el entorno Google Colab &lt;a href="https://colab.research.google.com/" class="uri"&gt;https://colab.research.google.com/&lt;/a&gt;.&lt;/p&gt;'><sup>239</sup></a> personalizados y diversos componentes para mejorar las aplicaciones. Se pueden reemplazar los <code>checkboxes</code> por <code>switch buttons</code>, añadir colores a los <code>radioButtons</code> y al grupo de casillas de verificación (<code>checkboxGroupInput</code>), etc. Cada widget tiene un método de actualización para cambiar el valor de una entrada del server.</p>
<ul>
<li><code>shinycssloaders</code></li>
</ul>
<p>Cuando una salida de <code>Shiny</code> (un gráfico, una tabla, etc.) se está calculando, permanece visible pero en gris. Si hay procesos algo más complejos, pueden tardar en mostrarse. Utilizando <code>shinycssloaders</code>, se puede añadir una rueda de carga (<em>spinner</em>) a las salidas en lugar de hacerlas grises. Envolviendo una salida <code>Shiny</code> en <code>withSpinner()</code>, el <em>spinner</em> aparecerá automáticamente mientras la salida se recalcula…. Hay ocho tipos de animación incorporadas y personalizables en color y tamaño, pero también se pueden cargar otras animaciones.</p>
<ul>
<li>Visualizaciones interactivas</li>
</ul>
<p>Paquetes como <code>heatmaply</code> o <code>leaflet</code> se pueden combinar perfectamente con <code>Shiny</code> para crear mapas de calor y mapas geográficos interactivos, y utilizarlos en las aplicaciones.</p>
<div id="resumen-35" class="section level3 unnumbered infobox_resume">
<h3>Resumen<a class="anchor" aria-label="anchor" href="#resumen-35"><i class="fas fa-link"></i></a>
</h3>
<p><code>Shiny</code> es un paquete de <strong>R</strong> que permite crear aplicaciones web interactivas requiriendo únicamente conocimientos de <strong>R</strong>. En la primera parte de este capítulo se muestran los elementos básicos de una aplicación <code>Shiny</code>: user interface (ui.R) y servidor (server.R), así como los posibles diseños en relación a los componentes que una aplicación puede tener: barra lateral, paneles discretos, paneles de navegación, etc. A continuación, se repasan los elementos de introducción de datos en una aplicación <code>Shiny</code>, incluyendo la carga de conjuntos de datos y también los elementos de salida, como gráficas y tablas. También se aborda el modelo reactividad, es decir, cómo al cambiar algo en los parámetros de entrada de forma dinámica cambia la salida y cómo controlar éste proceso y se muestran distintas opciones para la publicación de las aplicaciones <code>Shiny</code>. Por último, se mencionan algunas de las posibles extensiones al paquete.</p>
</div>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="id_120007-informes.html"><span class="header-section-number">44</span> Informes reproducibles con R Markdown y Quarto</a></div>
<div class="next"><a href="github.html"><span class="header-section-number">46</span> Git y GitHub R</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="Índice capítulo"><h2>Índice capítulo</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#shiny"><span class="header-section-number">45</span> Creación de aplicaciones web interactivas con Shiny</a></li>
<li><a class="nav-link" href="#introducci%C3%B3n-22"><span class="header-section-number">45.1</span> Introducción</a></li>
<li><a class="nav-link" href="#componentes-m%C3%ADnimos-de-una-aplicaci%C3%B3n-shiny-y-disposici%C3%B3n-b%C3%A1sica"><span class="header-section-number">45.2</span> Componentes mínimos de una aplicación Shiny y disposición básica</a></li>
<li>
<a class="nav-link" href="#dise%C3%B1o-de-una-aplicaci%C3%B3n-shiny"><span class="header-section-number">45.3</span> Diseño de una aplicación Shiny</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#dispag"><span class="header-section-number">45.3.1</span> Diseño de las páginas: fluidPage()</a></li>
<li><a class="nav-link" href="#segmentaci%C3%B3n-de-dise%C3%B1os-tabsetpanel-y-navlistpanel"><span class="header-section-number">45.3.2</span> Segmentación de diseños: tabsetPanel() y navlistPanel()</a></li>
</ul>
</li>
<li><a class="nav-link" href="#elementos-para-la-introducci%C3%B3n-de-datos"><span class="header-section-number">45.4</span> Elementos para la introducción de datos</a></li>
<li><a class="nav-link" href="#elementos-para-visualizaci%C3%B3n-salida"><span class="header-section-number">45.5</span> Elementos para visualización (salida)</a></li>
<li>
<a class="nav-link" href="#reactividad"><span class="header-section-number">45.6</span> Reactividad</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#conductores-reactivos-y-control-de-la-reactividad"><span class="header-section-number">45.6.1</span> Conductores reactivos y control de la reactividad</a></li></ul>
</li>
<li><a class="nav-link" href="#publicaci%C3%B3n-de-la-aplicaci%C3%B3n-en-la-web"><span class="header-section-number">45.7</span> Publicación de la aplicación en la web</a></li>
<li>
<a class="nav-link" href="#extensiones-de-shiny"><span class="header-section-number">45.8</span> Extensiones de Shiny</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#resumen-35">Resumen</a></li></ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Fundamentos de ciencia de datos con R</strong>" coordinado por <a href="https://blog.uclm.es/gemafaviles/" class="text-light">Gema Fernández-Avilés y José-María Montero</a>. Generado por última vez el día 2023-06-16.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>Este libro ha sido generado con el paquete de R <a class="text-light" href="https://bookdown.org">bookdown</a>.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
